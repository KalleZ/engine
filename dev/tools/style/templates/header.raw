<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>Tuxxedo Engine Development Tools</title>

		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<script type="text/javascript">
		function engine_options_handler(select, option)
		{
			var action = select.options[select.selectedIndex].value;

			switch(action)
			{
				case('delete'):
				case('reset'):
				{
					if(confirm('Are you sure?'))
					{
						window.location = './options.php?do=' + action + '&option=' + option;
					}
				}
				break;
				default:
				{
					if(action.length && option.length)
					{
						window.location = './options.php?do=' + action + '&option=' + option;
					}
				}
			}
		}

		function engine_options_change_handler(select, canvas)
		{
			engine_options_save_current();

			switch(select.options[select.selectedIndex].value)
			{
				case('string'):
				{
					document.getElementById(canvas).innerHTML = '<textarea name="value" id="optvalue" rows="5" cols="30"></textarea>';
				}
				break;
				case('integer'):
				{
					document.getElementById(canvas).innerHTML = '<input type="text" id="optvalue" name="value" size="32" />';
				}
				break;
				case('boolean'):
				{
					document.getElementById(canvas).innerHTML = '<label><input type="radio" id="optvalue1" name="value" value="1" checked="checked" /> True</label> <label><input type="radio" id="optvalue2" name="value" value="0" /> False</label>';
				}
				break;
			}

			engine_options_editcheck();
		}

		function engine_options_current_canvas()
		{
			if(document.getElementById('optvalue1'))
			{
				return('optvalue1');
			}

			return('optvalue');
		}

		function engine_options_editcheck()
		{
			var option_canvas = engine_options_current_canvas();

			if(option_canvas == 'optvalue')
			{
				if(document.getElementById('option_current_value').value != '')
				{
					document.getElementById(option_canvas).value 		= document.getElementById('option_current_value').value;
					document.getElementById('option_current_value').value 	= '';
				}
			}
			else
			{
				document.getElementById(option_canvas).checked = false;

				if(!document.getElementById('option_current_value').value || document.getElementById('option_current_value').value == 0)
				{
					option_canvas = 'optvalue2';
				}

				document.getElementById(option_canvas).checked = true;
			}
		}

		function engine_options_save_current()
		{
			var option_canvas = engine_options_current_canvas();

			if(option_canvas != 'optvalue')
			{
				document.getElementById('option_current_value').value = (document.getElementById(option_canvas).checked ? 1 : 0);
			}
			else
			{
				document.getElementById('option_current_value').value = document.getElementById(option_canvas).value;
			}
		}

		function engine_styles_change(select)
		{
			this.location = './styles.php?style=' + select.options[select.selectedIndex].value + '&do=style&action=edit';
		}

		function engine_swap_password_to_text(id)
		{
			var password_value = document.getElementById(id).value;

			document.getElementById(id).type 	= (document.getElementById(id).type == 'password' ? 'text' : 'password');
			document.getElementById(id).value 	= password_value;
		}
		</script>

		<style type="text/css">
		a
		{
			color:				#3B7286;
			text-decoration:		none;
		}
			a:hover
			{
				color:				#000000;
			}
			a.redirect
			{
				text-decoration:		underline;
			}
			a.redlink
			{
				color:				#CC0000;
			}
				a.redlink:hover
				{
					background-color:		#CC0000;
					border-radius:			4px;
					color:				#FFFFFF;

					-moz-border-radius:		4px;
				}
		body
		{
			background-color:		#021420;
			color:				#3B7286;
			font-family:			"Helvetica Neue", Helvetica, Trebuchet MS, Verdana, Tahoma, Arial, sans-serif;
			font-size:			82%;
			margin-top:			30px;
		}
		code
		{
			font-family:			Consolas, Monaco, 'Courier New', Monospace;
		}
		input, select, textarea
		{
			background:			#FFFFFF url('./style/images/box-background.png') repeat-x top left;
			border:				1px solid #21A7CD;
			border-radius:			4px;
			color:				#000000;
			padding:			5px;

			-moz-border-radius:		4px;
		}
			input[type=button], input[type=submit]
			{
				background:			#044968 url('./style/images/top-background.png') repeat-x center left;
				border:				0px;
				color:				#FFFFFF;
			}
		label
		{
			cursor:				pointer;
		}
		p.spacer
		{
			margin-bottom:			10px;
		}
		table
		{
			width:				100%;
		}
			table tr.heading td
			{
				background-color:		#FFFFFF;
				border:				1px solid #21A7CD;
				border-right:			0px;
				font-weight:			bold;
			}
				table tr.heading h5
				{
					font-size:			14px;
					margin:				0px;
					padding:			0px;
				}
				table tr.heading td.end
				{
					border-right:			1px solid #21A7CD;
					border-bottom-right-radius:	4px;
					border-top-right-radius:	4px;

					-moz-border-radius-topright:	4px;
					-moz-border-radius-bottomright:	4px;
				}
				table tr.heading td.start
				{
					border-bottom-left-radius:	4px;
					border-top-left-radius:		4px;

					-moz-border-radius-topleft:	4px;
					-moz-border-radius-bottomleft:	4px;
				}
			table tr.highlight td
			{
				background-color:		#044968;
				color:				#FFFFFF;
			}
			table tr td
			{
				padding:			10px;
			}
		textarea
		{
			font-family:			Consolas, Monaco, 'Courier New', Monospace;
		}
		.box, .warning
		{
			background:			#FFFFFF url('./style/images/box-background.png') repeat-x top left;
			border-radius:			4px;
			margin-bottom:			10px;
			padding:			10px;

			-moz-border-radius:		4px;
		}
			.box h3, .box h4, .warning h3, .warning h4
			{
				font-size:			18px;
				margin:				0px;
				padding:			0px;
			}
			.box h4, .warning h4
			{
				background:			#044968 url('./style/images/top-background.png') repeat-x top left;
				border-radius:			4px;
				color:				#FFFFFF;
				margin:				-10px -10px 5px -10px;
				padding:			10px;
				text-shadow:			1px 1px 1px #000000;

				-moz-border-radius:		4px;
			}
		.clear
		{
			clear:				both;
		}
		.content
		{
			margin-left:			270px;
		}
			.content .box p, .content .warning p
			{
				margin:				0px;
			}
		.copyright
		{
			color:				#FFFFFF;
			font-size:			75%;
			text-align:			right;
		}
			.copyright .logo
			{
				float:                          right;
				margin-left:                    10px;
			}
			.copyright .text
			{
				float:                          right;
			}
		.error
		{
			color:				#A9272C;
		}
		.panel
		{
			float:				left;
			width:				250px;
		}
			.panel a
			{
				text-decoration:		underline;
			}
			.panel div.center
			{
				margin:				15px auto;
				width:				160px;
			}
			.panel h4
			{
				font-size:			14px;
			}
			.panel ul
			{
				list-style-type:		square;
				margin:				0px;
				padding:			0px 0px 0px 20px;
			}
		.top
		{
			background:			#044968 url('./style/images/top-background.png') repeat-x top left;
			border-radius:			4px;
			padding:			0px 4px;

			-moz-border-radius:		4px;
		}
			.top h2
			{
				color:				#FFFFFF;
				float:				right;
				margin:				0px 5px 0px 0px;
				padding:			0px;
				width:				250px;
			}
				.top h2 div
				{
					font-size:			10px;
					margin-top:			-5px;
				}
			.top ul
			{
				list-style-type:		none;
				margin:				0px;
				padding:			0px;
			}
				.top ul li
				{
					float:				left;
				}
					.top ul li a
					{
						color:				#FFFFFF;
						display:			block;
						padding:			10px;
						text-shadow:			1px 1px 1px #000000;
					}
						.top ul li a:hover
						{
							text-decoration:		underline;
						}
		.warning
		{
			background:			none;
			background-color:		#FFFFFF;
			border:				2px solid #A9272C;
		}
			.warning *
			{
				color:				#A9272C;
			}
		.wrapper
		{
			color:				#3B7286;
			padding:			0px 30px;
		}
		</style>
	</head>
	<body>
		<div class="wrapper">
			<img src="./style/images/logo-tuxxedo.png" alt="Tuxxedo" />

			<div class="top">
				<ul>
					<li><a href="./">Index</a></li>
					<li><a href="./datastore.php">Datastore cache</a></li>
					<li><a href="./styles.php">Styles &amp; Templates</a></li>
<!--
					<li><a href="./#">Internationalization</a></li>
-->
					<li><a href="./options.php">Options</a></li>
<!--
					<li><a href="./#">Users &amp; Usergroups</a></li>
-->
					<li><a href="./sessions.php">Sessions</a></li>
					<li><a href="./tools.php">Tools</a></li>
				</ul>
				<div class="clear"></div>
			</div>
			<br />
<if expression="isset($debug_notice)">
			<div class="box">
				Warning, your configuration had debug mode set to false. This was automaticlly 
				changed to true while executing the development tools. To remove this warning, then 
				simply set 'debug' to true in your configuration file.
			</div>
</if>

<if expression="isset($widget)">
			<div class="panel">
				{$widget}
			</div>
</if>

			<div class="content">
