{$header}

<form action=\"./styles.php?style={$styleid}&do=templates&action=" . (($action == 'edit') ? ("edit&id={$dm['id']}") : ("add")) . "\" method=\"post\">
<div class=\"box\">
	<h4>" . (($action == 'edit') ? ("Edit") : ("Add")) . " template</h4>

	<table cellspacing=\"0\" cellpadding=\"0\">
		<tr class=\"heading\">
			<td colspan=\"2\" class=\"start end\">
				<h5>Template information</h5></td>
		</tr>
		<tr>
			<td style=\"width: 20%;\">
				Name</td>
			<td>
				<input type=\"text\" name=\"title\" size=\"32\" value=\"" . (($action == 'edit') ? ("{$dm['title']}") : '') . "\" /></td>
		</tr>
" . (($action == 'edit') ? ("
		<tr>
			<td valign=\"top\">
				Revision</td>
			<td>
				{$dm['revision']}</td>
		</tr>
		<tr>
			<td nowrap=\"nowrap\" valign=\"top\">
				Customized?</td>
			<td>
				" . (($dm['changed']) ? ("Yes") : ("No")) . "</td>
") : '') . "
		<tr class=\"heading\">
			<td colspan=\"2\" class=\"start end\">
				<h5>Source</h5></td>
		</tr>
		<tr>
			<td colspan=\"2\">
				<textarea name=\"source\" style=\"width: 99%;\" rows=\"20\">" . ((isset($source)) ? ("{$source}") : '') . "</textarea></td>
		</tr>
" . (($action == 'edit') ? ("
		<tr class=\"heading\">
			<td colspan=\"2\" class=\"start end\">
				<h5>Options</h5></td>
		</tr>
		<tr>
			<td colspan=\"2\">
				Below option should only be used if you understand the impact of 
				overriding defaults works. Overriding default templates can only 
				be reverted by re-importing the templates from the Engine version 
				currently in-use.
			</td>
		</tr>
		<tr>
			<td nowrap=\"nowrap\" valign=\"top\">
				Set this as default template code?</td>
			<td>
				<label><input type=\"checkbox\" name=\"sourceoverride\" value=\"1\" /> Yes</label></td>
		</tr>
") : '') . "
</if>
	</table>
</div>

<div class=\"box\">
	<input type=\"submit\" name=\"submit\" value=\"" . (($action == 'edit') ? ("Edit") : ("Add")) . "\" />
</div>
</form>

{$footer}